apiVersion: v1
kind: Service
metadata:
  name: '{{ .Values.movieService.serviceName }}'
spec:
  type: '{{ .Values.movieService.serviceType }}'
  ports:
  - port: '{{ .Values.movieService.servicePort }}'
    targetPort: '{{ .Values.movieService.containerPort }}'
    {{- if eq .Values.movieService.serviceType "NodePort" }}
    nodePort: '{{ .Values.movieService.nodePort }}'
    {{- end }}
  selector:
    app: movie-service
